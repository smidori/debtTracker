<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-item >
      <ion-label style="font-weight: 800; font-size: 2em; text-align: center;">
        Debt Tracker
        <p>{{today | date:'dd/MM/YYYY'}}</p>
      </ion-label>        
    </ion-item>

    <ion-row>
      <ion-col size="8">
        <ion-item lines="none">
          <ion-input type="text" placeholder="Name" [(ngModel)]="personName" [counter]="true" maxlength="20"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col size="4">
        <ion-item lines="none">
          <ion-icon  (click)="addPerson()" name="add" (click)="addPerson()"></ion-icon>
          <p style="font-size: 0.7em;">Add Person</p>
        </ion-item>
      </ion-col>
      
      
    </ion-row>

  </ion-toolbar>
</ion-header>
<ion-content [fullscreen]="true">
  <ion-card *ngFor="let person of people ; let i = index; " class="ion-margin">
    <ion-grid>
      <ion-row>
        <ion-col size="8">
          <ion-col style="font-weight: 800; font-size: 1.3em;">{{person.value.name}}</ion-col>
        </ion-col>
          
        <ion-col size="4">
           <ion-label style="float: right; font-size: 1em;"  *ngIf="person.value.total < 0 " color="danger"><ion-icon name="logo-euro"></ion-icon> {{person.value.total}}</ion-label>
           <ion-label style="float: right; font-size: 1em;"  *ngIf="person.value.total >= 0 " ><ion-icon name="logo-euro"></ion-icon> {{person.value.total}}</ion-label>
        </ion-col>
      </ion-row>  
   
      <ion-row >
        <ion-item (click)="updateDetails(person.key)" lines="none">
          <ion-icon size="small" name="create-outline"></ion-icon>
          <p style="font-weight: 100; font-size: 0.7em;">Update</p>
        </ion-item>
  
        <ion-item (click)="deletePerson(person.key)" lines="none">
          <ion-icon size="small" name="trash-outline"></ion-icon>
          <p style="font-weight: 100; font-size: 0.7em;">Delete</p>
        </ion-item>
      </ion-row>
    </ion-grid>
    
  </ion-card>

</ion-content>
<script refresh()></script>